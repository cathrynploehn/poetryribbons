function GuiHelper(){}GuiHelper.addPauseBtn=function(){var e=$(".play");$(e).removeClass("play btn-success").addClass("pause"),$(e).children().removeClass("glyphicon-play").addClass("glyphicon-pause")},GuiHelper.addPlayBtn=function(){var e=$(".pause");$(".pause").removeClass("pause").addClass("play btn-success"),$(e).children().removeClass("glyphicon-pause").addClass("glyphicon-play")},GuiHelper.loadText=function(e,n,a,i,s){var l=1,t=1;$(".header-poem-title").html(e),$(".header-poem-author").html("<small>by "+n+"</small>"),$("#translatedLyrics-pane").append('<p class="lyrics-pane-padding"></p>'),$("#originalLyrics-pane").append('<p class="lyrics-pane-padding"></p>'),$(a).each(function(){"ssss"==this?($("#originalLyrics-pane").append('<p class="space"></p>'),t++):(l%2==0?$("#originalLyrics-pane").append('<p class="stanza'+t+" line line"+l+'"><span class="line-number">'+l+'</span><span class="line-content">'+this+"</span></p>"):$("#originalLyrics-pane").append('<p class="stanza'+t+" line line"+l+'"><span class="line-number-blank">'+l+'</span><span class="line-content">'+this+"</span></p>"),l++)}),$("#originalLyrics-pane").append('<p class="lyrics-pane-padding"></p>'),l=1,t=1,$(i).each(function(){"ssss"==this?($("#translatedLyrics-pane").append('<p class="space"></p>'),t++):(l%2==0?$("#translatedLyrics-pane").append('<p class="stanza'+t+" line line"+l+'"><span class="line-number">'+l+'</span><span class="line-content">'+this+"</span></p>"):$("#translatedLyrics-pane").append('<p class="stanza'+t+" line line"+l+'"><span class="line-number-blank">'+l+'</span><span class="line-content">'+this+"</span></p>"),l++)}),$("#translatedLyrics-pane").append('<p class="lyrics-pane-padding"></p>'),$(".poem-lyrics-pane-lyrics").minimap(),$(".line1").addClass("highlight"),s()},GuiHelper.updateLyrics=function(e,n){var a="line"+n;$("."+a).removeClass("highlight");var i="line"+e;$("."+i).addClass("highlight");var s=$("#originalLyrics-pane .highlight").position().top;console.log("top "+s);var l=$("#poem-lyrics-pane").outerHeight();l/=2,$(".poem-lyrics-pane-lyrics").stop(!0,!0).animate({scrollTop:s-l},"slow","swing")},GuiHelper.updateTimer=function(e){$("#audio-time-holder").html(e)},GuiHelper.guiReady=function(e){$("#btn-play").addClass("play"),$("#btn-begin-reading").removeClass("btn-begin-reading-loading"),$("#btn-begin-reading").addClass("play btn-success"),$("#btn-play").html('<span class="glyphicon glyphicon-play"></span>'),$(".audio-controller").prepend('<button type="button" id="btn-back" class="btn btn-lg"><span class="glyphicon glyphicon-chevron-left"></span></button>'),$(".audio-controller").append('<button type="button" id="btn-forward" class="btn btn-lg"><span class="glyphicon glyphicon-chevron-right"></span></button>'),$(".audio-controller").append('<span id="audio-time-holder"></span>'),$("#btn-begin-reading").html('<div>Begin reading</div><div class="glyphicon glyphicon-arrow-right"></div>'),Animation.model1(e),$("#btn-begin-reading").click(function(){$("#onboarding-container").slideUp("slow")}),$("#btn-replay").click(function(){e.setLine(1)})},GuiHelper.guiReadyPoemSubmit=function(e){$("#btn-play").addClass("play"),$("#btn-begin-reading").removeClass("btn-begin-reading-loading"),$("#btn-begin-reading").addClass("play btn-success"),$("#btn-play").html('<span class="glyphicon glyphicon-play"></span>'),$(".audio-controller").prepend('<button type="button" id="btn-back" class="btn btn-lg"><span class="glyphicon glyphicon-chevron-left"></span></button>'),$(".audio-controller").append('<button type="button" id="btn-forward" class="btn btn-lg"><span class="glyphicon glyphicon-chevron-right"></span></button>'),$(".audio-controller").prepend('<button type="button" id="btn-replay" class="btn btn-lg"><span class="glyphicon glyphicon-repeat"></span></button>'),$(".audio-controller").append('<button type="button" id="btn-check" class="btn btn-lg"><span class="glyphicon glyphicon-ok-circle"></span></button>'),$(".audio-controller").append('<span id="audio-time-holder"></span>'),$(".audio-controller").append('<div class="review-btn-group"><div class="btn-group" data-toggle="buttons"><label id="edit" class="btn reviewToggle active"><input type="radio" name="reviewToggle" id="edit">Edit</label><label id="review" class="btn reviewToggle"><input type="radio" name="reviewToggle" id="review">Review</label></div><button type="button" id="btn-save" class="btn btn-lg"><span class="glyphicon glyphicon-floppy-disk"></span></button></div>'),$(".audio-controller").append(""),$("#btn-begin-reading").html('<div>Begin recording</div><div class="glyphicon glyphicon-arrow-right"></div>'),Animation.model1(e),$("#btn-begin-reading").click(function(){$("#onboarding-container").slideUp("slow")}),GuiHelper.updateTriggers(e.getTriggers()),$("#btn-check").click(function(){e.setTimeLine()}),$("#btn-replay").click(function(){e.setLine(1)}),$("#btn-begin-reading").click(function(){$("#onboarding-savepoem").slideUp("slow")}),$("#btn-resume-editing").click(function(){$("#save-container").slideUp("slow")}),GuiHelper.hideViz(),GuiHelper.greyControls()},GuiHelper.guiNotReady=function(){var e={lines:5,length:0,width:10,radius:9,corners:1,rotate:42,direction:1,color:"#000",speed:1,trail:72,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},n=document.getElementById("btn-play"),a=(new Spinner(e).spin(n),{lines:5,length:0,width:10,radius:8,corners:1,rotate:42,direction:1,color:"#fff",speed:1,trail:72,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"}),i=document.getElementById("btn-begin-reading"),s=(new Spinner(a).spin(i),document.getElementById("visualization-canvas")),l=s.getContext("2d");l.canvas.height=document.getElementById("poem-pane-pane").offsetHeight,l.canvas.width=document.getElementById("poem-pane-pane").offsetWidth},GuiHelper.rotateLeft=function(){$("#left-menu").removeClass("left-menu-inactive"),$("#left-menu").addClass("left-menu-active"),$("#poem-main-container").removeClass("rotate-main-center"),$("#poem-main-container").addClass("rotate-main-left")},GuiHelper.rotateCenter=function(){$("#left-menu").removeClass("left-menu-active"),$("#left-menu").addClass("left-menu-inactive"),$("#poem-main-container").removeClass("rotate-main-left"),$("#poem-main-container").addClass("rotate-main-center")},GuiHelper.hideViz=function(){$("#btn-hide-viz").addClass("showViz"),$("#btn-hide-viz").removeClass("hideViz"),$("#hide-visual-text small").html("show visual"),$("#poem-pane-pane").addClass("hide"),$("#poem-lyrics-pane").removeClass("col-md-7"),$("#poem-lyrics-pane").addClass("middle"),$("#poem-lyrics-pane").addClass("col-md-8"),$("#poem-lyrics-pane").addClass("col-md-offset-2"),$(".audio-controller").removeClass("col-md-7"),$(".audio-controller").removeClass("col-md-offset-5"),$(".audio-controller").addClass("col-md-12")},GuiHelper.showViz=function(){$("#btn-hide-viz").addClass("hideViz"),$("#btn-hide-viz").removeClass("showViz"),$("#hide-visual-text small").html("hide visual"),$("#poem-pane-pane").removeClass("hide"),$("#poem-lyrics-pane").removeClass("col-md-8"),$("#poem-lyrics-pane").addClass("col-md-7"),$("#poem-lyrics-pane").removeClass("middle"),$("#poem-lyrics-pane").removeClass("col-md-offset-2"),$(".audio-controller").removeClass("col-md-12"),$(".audio-controller").addClass("col-md-7"),$(".audio-controller").addClass("col-md-offset-5")},GuiHelper.updateTriggers=function(e){$("#trigger-pane").html('<p class="lyrics-pane-padding"></p>'),$(e).each(function(e){$("#trigger-pane").append('<p class="stanza"><span class="line-number">'+(e+1)+': </span><span class="line-content"> '+this+"</span></p>")})},GuiHelper.markLine=function(e){console.log("prevTrigger: "+e);var n="line"+e;$("."+n).addClass("alert-success"),$("."+n+" .check-area").html('<span class="glyphicon glyphicon-ok-circle"></span>')},GuiHelper.greyControls=function(){$("#btn-check").css("color","rgba(0,0,0,0.2)")},GuiHelper.clearControls=function(){$("#btn-check").css({color:"black"})},$("#btn-question").click(function(){$("#onboarding-container").show()}),$("#visualization-canvas").mouseenter(function(){$("#visualization-controls").removeClass("invisible")}),$("#visualization-canvas").mouseout(function(){$("#visualization-controls").addClass("invisible")}),$("#visualization-controls, #visualization-controls > *").mouseenter(function(){$("#visualization-controls").removeClass("invisible")}),$("btn").mouseout(function(){$("#visualization-controls").addClass("invisible")}),$("#open-menu-btn-left").mouseenter(function(){GuiHelper.rotateLeft()}),$("#poem-main-container > * ").click(function(){GuiHelper.rotateCenter()}),$("#btn-hide-viz").click(function(){$(this).hasClass("hideViz")?GuiHelper.hideViz():$(this).hasClass("showViz")&&GuiHelper.showViz()}),GuiHelper.reviewMode=function(){};